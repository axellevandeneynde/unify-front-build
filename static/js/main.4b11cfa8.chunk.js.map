{"version":3,"sources":["auth/Protected-route.js","components/search/config/engine.js","components/search/config/config-helper.js","components/articles/image.js","components/articles/date.js","components/articles/source-info.js","components/bookmark.js","components/articles/search-article.js","components/search/search.js","components/articles/preview-related-articles.js","components/articles/article.js","components/loading.js","components/title.js","components/feed/store.js","components/feed/feed.js","components/schijnwerper/schijnwerper-article.js","components/schijnwerper/schijnwerper.js","components/login/login-btn.js","components/login/logout-btn.js","components/login/login.js","components/navigation/store.js","pages/home/home.page.js","components/footer.js","assets/logo.svg","components/navigation/desktop-navigation.js","components/navigation/mobile-navigation.js","components/navigation/navigation.js","components/articles/related-article.js","pages/related.page.js","components/progress-bar.js","pages/create-feed/store.js","pages/create-feed/get-started.js","pages/create-feed/location-question.js","pages/create-feed/about-question.js","pages/create-feed/source-question.js","pages/create-feed/confirm.js","pages/create-feed/create-feed.page.js","pages/user-feed/store.js","pages/user-feed/user-feed.page.js","components/articles/bookmark-article.js","pages/bookmarks/bookmarks.page.js","App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","component","args","withAuthenticationRequired","process","getConfig","config","engineName","window","appConfig","Image","props","useState","placeholder","setPlaceholder","src","url","alt","onError","className","Date","moment","locale","date","calendar","SourceInfo","isOpen","setIsOpen","onClick","logo","name","biased","description","href","website","to","Bookmark","useAuth0","user","isAuthenticated","getAccessTokenSilently","remove","isBookmarked","setIsBookmarked","a","accessToken","fetch","method","headers","Authorization","body","JSON","stringify","bookmark","articleId","then","res","json","data","console","log","SearchArticle","article","raw","target","rel","image","id","source_name","source_logo","source_website","source_description","title","hostIdentifier","searchKey","endpointBase","connector","AppSearchAPIConnector","searchQuery","facets","reduce","acc","n","type","size","undefined","searchFields","fields","resultFields","snippet","fallback","urlField","titleField","searchOptions","result_fields","search_fields","buildSearchOptionsFromConfig","autocompleteQuery","querySuggestFields","Array","isArray","length","suggestions","types","documents","buildAutocompleteQueryConfig","apiConnector","alwaysSearchOnInitialLoad","Search","redirectToSearch","setRedirectToSearch","location","useLocation","redirectToSearchPage","pathname","SearchProvider","mapContextToProps","searchTerm","setSearchTerm","results","autocompletedResults","ErrorBoundary","value","onChange","e","map","r","_","require","PreviewRelatedArticles","searchQueries","labels","fetchRelated","setFetchRelated","related","setRelated","numberOfResults","setNumberOfResults","useEffect","query","join","slice","page","isNil","relevant","filter","result","_meta","score","relatedArticles","relatedArticle","replace","Article","Loading","Title","history","useHistory","icon","color","goBack","toUpperCase","feedId","pageNumberAtom","atom","key","default","Feed","dayAgo","now","feedLoading","setFeedLoading","articles","setArticles","previousPageNumber","setPreviousPageNumber","useRecoilState","pageNumber","setPageNumber","filters","all","from","source_regions","source_categories","current","concat","SchijnwerperArticle","side","Schijnwerper","loading","setLoading","i","LoginBtn","loginWithRedirect","LogoutBtn","logout","returnTo","origin","Login","isLoading","userChecked","setUserChecked","menuOpen","setMenuOpen","checkUser","picture","given_name","nickname","navBackBtnAtom","userFeedsAtom","HomePage","setNavBackBtn","useSetRecoilState","Footer","DesktopNavigation","activeStyle","fontWeight","userFeeds","feed","index","feedName","MobileNavigation","setiIsOpen","navBackBtn","useRecoilValue","closeMenu","Navigation","fetchedUserFeed","setFetchedUserFeed","setUserFeeds","feeds","getFeeds","RelatedArticle","RelatedPage","match","params","replaceAll","ProgressBar","progress","progressAtom","locationsAtom","selectedLocationsAtom","categoriesAtom","selectedCategoriesAtom","relevantSourcesAtom","selectedSourcesAtom","updateFeedIdAtom","GetStarted","setProgress","LocationQuestion","allLocations","selectedLocations","setSelectedLocations","filteredLocations","setFilteredLocations","noResults","setNoResults","searched","setSearched","debouncedSubmit","debounce","typedLocation","locationName","toLowerCase","includes","locations","item","initialValues","onSubmit","values","submitForm","onKeyUp","_id","AboutQuestion","categories","selectedCategories","setSelectedCategories","category","SourcesQuestion","sources","setSources","selectedSources","setSelectedSources","selectedCatgories","filteredSources","setFilteredSources","fetchedSources","setFetchedSources","typedSource","source","hasCategory","hasLocation","regions","loacationName","Confirm","feedCreated","setFeedCreated","updateFeedId","setUpdateFeedId","setFeedName","feedToUpdate","find","CreateFeedPage","useRouteMatch","setAllLoactions","allCategories","setAllCategories","path","pageNumberUserFeedAtom","UserFeedPage","pageNumberUserFeed","setPageNumberUserFeed","userFeedId","setFeedId","previousHistory","setPreviousHistory","thisFeed","setThisFeed","getFilters","filterItem","push","reload","BookmarksPage","getArticles","App","domain","clientId","redirectUri","useRefreshTokens","cacheLocation","audience","scope","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4b11cfa8.chunk.js","sourcesContent":["import { Route } from \"react-router-dom\";\r\nimport { withAuthenticationRequired } from \"@auth0/auth0-react\";\r\n\r\nconst ProtectedRoute = ({ component, ...args }) => (\r\n    <Route\r\n        component={withAuthenticationRequired(component, {\r\n            // onRedirecting: () => <Loading />,\r\n        })}\r\n        {...args}\r\n    />\r\n);\r\n\r\nexport default ProtectedRoute;","export default {\r\n  \"engineName\": \"unify\",\r\n  \"endpointBase\": process.env.REACT_APP_ELASTIC_URL,\r\n  \"searchKey\": process.env.REACT_APP_ELASTIC_SEARCH_KEY,\r\n  \"resultFields\": [\r\n    \"url\",\r\n    \"title\",\r\n    \"labels\",\r\n    \"id\",\r\n    \"date\",\r\n    \"image\",\r\n    \"description\",\r\n    \"rss_categories\",\r\n    \"source_logo\",\r\n    \"source_name\",\r\n    \"source_description\",\r\n    \"source_website\",\r\n    \"source_categories\",\r\n    \"source_regions\"\r\n  ],\r\n  \"sortFields\": [],\r\n  \"facets\": []\r\n}","import config from \"../config/engine.js\";\r\n\r\n/**\r\n * This file abstracts most logic around the configuration of the Reference UI.\r\n *\r\n * Configuration is an important part of the \"reusability\" and \"generic-ness\" of\r\n * the Reference UI, but if you are using this app as a starting point for own\r\n * project, everything related to configuration can largely be thrown away. To\r\n * that end, this file attempts to contain most of that logic to one place.\r\n */\r\n\r\nexport function getConfig() {\r\n  if (process.env.NODE_ENV === \"test\") {\r\n    return {};\r\n  }\r\n\r\n  if (config.engineName) return config;\r\n\r\n  if (\r\n    typeof window !== \"undefined\" &&\r\n    window.appConfig &&\r\n    window.appConfig.engineName\r\n  ) {\r\n    return window.appConfig;\r\n  }\r\n\r\n  return {};\r\n}\r\n\r\nfunction toLowerCase(string) {\r\n  if (string) return string.toLowerCase();\r\n}\r\n\r\nfunction capitalizeFirstLetter(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport function getTitleField() {\r\n  // If no title field configuration has been provided, we attempt\r\n  // to use a \"title\" field, if one exists\r\n  return getConfig().titleField || \"title\";\r\n}\r\n\r\nexport function getUrlField() {\r\n  return getConfig().urlField;\r\n}\r\n\r\nexport function getFacetFields() {\r\n  return getConfig().facets || [];\r\n}\r\n\r\nexport function getSortFields() {\r\n  return getConfig().sortFields || [];\r\n}\r\n\r\nexport function getResultTitle(result) {\r\n  const titleField = getTitleField();\r\n\r\n  return result.getSnippet(titleField);\r\n}\r\n\r\n// Because if a field is configured to display as a \"title\", we don't want\r\n// to display it again in the fields list\r\nexport function stripUnnecessaryResultFields(resultFields) {\r\n  return Object.keys(resultFields).reduce((acc, n) => {\r\n    if (\r\n      [\r\n        \"_meta\",\r\n        \"id\",\r\n        toLowerCase(getTitleField()),\r\n        toLowerCase(getUrlField())\r\n      ].includes(toLowerCase(n))\r\n    ) {\r\n      return acc;\r\n    }\r\n\r\n    acc[n] = resultFields[n];\r\n    return acc;\r\n  }, {});\r\n}\r\n\r\nexport function buildSearchOptionsFromConfig() {\r\n  const config = getConfig();\r\n  const searchFields = (config.searchFields || config.fields || []).reduce(\r\n    (acc, n) => {\r\n      acc = acc || {};\r\n      acc[n] = {};\r\n      return acc;\r\n    },\r\n    undefined\r\n  );\r\n\r\n  const resultFields = (config.resultFields || config.fields || []).reduce(\r\n    (acc, n) => {\r\n      acc = acc || {};\r\n      acc[n] = {\r\n        raw: {},\r\n        snippet: {\r\n          size: 100,\r\n          fallback: true\r\n        }\r\n      };\r\n      return acc;\r\n    },\r\n    undefined\r\n  );\r\n\r\n  // We can't use url or title fields unless they're actually\r\n  // in the reuslts.\r\n  if (config.urlField) {\r\n    resultFields[config.urlField] = {\r\n      raw: {},\r\n      snippet: {\r\n        size: 100,\r\n        fallback: true\r\n      }\r\n    };\r\n  }\r\n\r\n  if (config.titleField) {\r\n    resultFields[config.titleField] = {\r\n      raw: {},\r\n      snippet: {\r\n        size: 100,\r\n        fallback: true\r\n      }\r\n    };\r\n  }\r\n\r\n  const searchOptions = {};\r\n  searchOptions.result_fields = resultFields;\r\n  searchOptions.search_fields = searchFields;\r\n  return searchOptions;\r\n}\r\n\r\nexport function buildFacetConfigFromConfig() {\r\n  const config = getConfig();\r\n\r\n  const facets = (config.facets || []).reduce((acc, n) => {\r\n    acc = acc || {};\r\n    acc[n] = {\r\n      type: \"value\",\r\n      size: 100\r\n    };\r\n    return acc;\r\n  }, undefined);\r\n\r\n  return facets;\r\n}\r\n\r\nexport function buildSortOptionsFromConfig() {\r\n  const config = getConfig();\r\n  return [\r\n    {\r\n      name: \"Relevance\",\r\n      value: \"\",\r\n      direction: \"\"\r\n    },\r\n    ...(config.sortFields || []).reduce((acc, sortField) => {\r\n      acc.push({\r\n        name: `${capitalizeFirstLetter(sortField)} ASC`,\r\n        value: sortField,\r\n        direction: \"asc\"\r\n      });\r\n      acc.push({\r\n        name: `${capitalizeFirstLetter(sortField)} DESC`,\r\n        value: sortField,\r\n        direction: \"desc\"\r\n      });\r\n      return acc;\r\n    }, [])\r\n  ];\r\n}\r\n\r\nexport function buildAutocompleteQueryConfig() {\r\n  const querySuggestFields = getConfig().querySuggestFields;\r\n  if (\r\n    !querySuggestFields ||\r\n    !Array.isArray(querySuggestFields) ||\r\n    querySuggestFields.length === 0\r\n  ) {\r\n    return {};\r\n  }\r\n\r\n  return {\r\n    suggestions: {\r\n      types: {\r\n        documents: {\r\n          fields: getConfig().querySuggestFields\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\n","import { useState } from 'react';\r\n\r\nexport default function Image(props) {\r\n    const [placeholder, setPlaceholder] = useState(false);\r\n    return (\r\n        <>\r\n            <img src={props.url} alt={props.alt} onError={() => setPlaceholder(true)} className={placeholder ? 'hidden' : ''} />\r\n            {\r\n                placeholder &&\r\n                <div className=\"imagePlaceholder b-grey\" >\r\n                    <span className=\"material-icons\">\r\n                        hide_image\r\n                                </span>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}","import moment from 'moment';\r\nimport 'moment/locale/nl-be';\r\n\r\nexport default function Date(props) {\r\n    moment.locale('nl-be')\r\n    return (\r\n        <span className=\"text-small grey\">{moment(props.date).calendar()}</span>\r\n    )\r\n}","import { useState } from 'react';\r\nimport Image from '../articles/image';\r\nimport { Link } from 'react-router-dom';\r\nimport Date from './date';\r\nexport default function SourceInfo(props) {\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <span onClick={() => setIsOpen(true)} className=\"article-source-wrapper\" >\r\n                <div>\r\n                    <Image url={props.logo} alt=\"logo publication\"></Image>\r\n                    <span className=\"text-over-image\">{props.name}</span>\r\n                </div>\r\n                <div>\r\n                    <span className=\"score-badge yellow\">\r\n                        <span className=\"material-icons\">\r\n                            fact_check\r\n                    </span>\r\n                        <span>7</span>\r\n                    </span>\r\n                    <span className={`${props.biased === \"true\" ? 'biased-badge' : 'hidden'} pink `}>\r\n                        <span className=\"material-icons\">campaign</span>\r\n                    </span>\r\n                </div>\r\n            </span>\r\n            {\r\n                isOpen === true && <div className=\"source-info-underlay row\">\r\n                    <div className=\"source-info col-xs-12 col-md-offset-3 col-md-8\">\r\n                        <span onClick={() => setIsOpen(false)} className=\"material-icons material-icons-xl\">\r\n                            close\r\n                        </span>\r\n                        <div className=\"source-info-title\">\r\n                            <Image url={props.logo} />\r\n                            <h3>{props.name}</h3>\r\n                        </div>\r\n                        <p>\r\n                            {props.description}\r\n                        </p>\r\n                        <p><strong>website:</strong> <a href={props.website}>{props.website}</a></p>\r\n                        <div className=\"badge-description\">\r\n                            <h4>Betrouwbaarheids analyse\r\n                                <Link to=\"/about/#trust\">\r\n                                    <span className=\"material-icons\">\r\n                                        info\r\n                            </span>\r\n                                </Link>\r\n                            </h4>\r\n                            <p className=\"text-small grey\">\r\n                                Door Axelle Vanden Eynde, laatst gewijzigd\r\n                                <span> </span>\r\n                                <Date date=\"2021-05-30T13:50:24.000Z\"></Date>\r\n                            </p>\r\n                            <div className=\"badge-description-score\">\r\n                                <div>\r\n                                    <span className=\"score-badge yellow\">\r\n                                        <span className=\"material-icons\">\r\n                                            fact_check\r\n                                </span>\r\n                                        <span>7</span>\r\n                                    </span>\r\n                                    <span className={`${props.biased === \"true\" ? 'biased-badge' : 'hidden'} pink `}>\r\n                                        <span className=\"material-icons\">campaign</span>\r\n                                    </span>\r\n                                </div>\r\n                                <ul>\r\n                                    <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed hendrerit justo ipsum, sit amet convallis augue euismod sed. Ut et lacus nulla. Fusce et blandit tortor.</li>\r\n                                    <li>Praesent scelerisque vel arcu non porttitor. Phasellus nec pretium eros. </li>\r\n                                    <li>Maecenas elit erat, lobortis et dictum vitae, dignissim eu magna.</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}","import { useAuth0 } from '@auth0/auth0-react';\r\nimport { useState } from 'react';\r\n\r\nexport default function Bookmark(props) {\r\n    const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\r\n    const [isBookmarked, setIsBookmarked] = useState(props.remove || false);\r\n\r\n    async function bookmark() {\r\n        const accessToken = await getAccessTokenSilently();\r\n        if (!isBookmarked) {\r\n            fetch(`${process.env.REACT_APP_UNIFY_BACK}/create-bookmark`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    user: user,\r\n                    bookmark: props.articleId\r\n                })\r\n            }).then((res) => res.json()\r\n            ).then(data => {\r\n                console.log(data)\r\n                setIsBookmarked(true);\r\n            });\r\n        } else {\r\n            fetch(`${process.env.REACT_APP_UNIFY_BACK}/delete-bookmark`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    user: user,\r\n                    bookmark: props.articleId\r\n                })\r\n            }).then((res) => res.json()\r\n            ).then(data => {\r\n                console.log(data)\r\n                setIsBookmarked(false);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            { isAuthenticated &&\r\n                <button onClick={bookmark} className=\"add-bookmark\">\r\n                    {!isBookmarked &&\r\n                        <span className=\"material-icons material-icons-xl\">\r\n                            bookmark_add\r\n                </span>\r\n                    }\r\n                    {isBookmarked &&\r\n                        <span className=\"material-icons material-icons-xl\">\r\n                            bookmark_remove\r\n                </span>\r\n                    }\r\n                </button>}\r\n        </>\r\n\r\n    )\r\n}","import SourceInfo from './source-info';\r\nimport Bookmark from '../bookmark';\r\nimport Date from './date';\r\nimport Image from './image';\r\n\r\nexport default function SearchArticle(props) {\r\n    return (\r\n        <div className=\"row\" >\r\n            <div className=\"article col-md-offset-5 col-md-5\">\r\n                <div className=\"article-image-wrapper\">\r\n                    <a href={props.article.url.raw} target=\"_blank\" rel='noreferrer'>\r\n                        <Image url={props.article.image.raw}></Image>\r\n                    </a>\r\n                    <Bookmark articleId={props.article.id.raw}></Bookmark>\r\n                    <SourceInfo\r\n                        name={props.article.source_name.raw}\r\n                        logo={props.article.source_logo.raw}\r\n                        website={props.article.source_website.raw}\r\n                        description={props.article.source_description.raw}\r\n                    ></SourceInfo>\r\n                </div>\r\n                <a href={props.article.url.raw} target=\"_blank\" rel='noreferrer'>\r\n                    <h3 className=\"title\">{props.article.title.raw}\r\n                        <span className=\"material-icons material-icons-s\">\r\n                            open_in_new\r\n                    </span>\r\n                    </h3>\r\n                </a>\r\n                <Date date={props.article.date.raw}></Date>\r\n                <p className=\"text\">{props.article.description.raw}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useState } from 'react';\r\nimport {\r\n    Redirect,\r\n    useLocation\r\n} from \"react-router-dom\";\r\n\r\nimport AppSearchAPIConnector from \"@elastic/search-ui-app-search-connector\";\r\nimport '../assets/background-logo.svg'\r\n\r\nimport {\r\n    ErrorBoundary,\r\n    SearchProvider,\r\n    WithSearch,\r\n} from \"@elastic/react-search-ui\";\r\n\r\nimport {\r\n    buildAutocompleteQueryConfig,\r\n    buildFacetConfigFromConfig,\r\n    buildSearchOptionsFromConfig,\r\n    getConfig,\r\n} from \"./config/config-helper\";\r\nimport SearchArticle from \"../articles/search-article\";\r\n\r\nconst { hostIdentifier, searchKey, endpointBase, engineName } = getConfig();\r\nconst connector = new AppSearchAPIConnector({\r\n    searchKey,\r\n    engineName,\r\n    hostIdentifier,\r\n    endpointBase\r\n});\r\nconst config = {\r\n    searchQuery: {\r\n        facets: buildFacetConfigFromConfig(),\r\n        ...buildSearchOptionsFromConfig()\r\n    },\r\n    autocompleteQuery: buildAutocompleteQueryConfig(),\r\n    apiConnector: connector,\r\n    alwaysSearchOnInitialLoad: false\r\n};\r\n\r\nexport default function Search() {\r\n\r\n    const [redirectToSearch, setRedirectToSearch] = useState(false);\r\n    const location = useLocation();\r\n\r\n    function redirectToSearchPage() {\r\n        console.log(location.pathname);\r\n        if (location.pathname !== '/search') {\r\n            setRedirectToSearch(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <SearchProvider config={config}>\r\n            <WithSearch\r\n                mapContextToProps={({ searchTerm, setSearchTerm, results, autocompletedResults }) => ({\r\n                    searchTerm,\r\n                    setSearchTerm,\r\n                    results,\r\n                    autocompletedResults\r\n                })}\r\n            >\r\n                {({ searchTerm, setSearchTerm, results, autocompletedResults }) => {\r\n                    return (\r\n                        <div className=\"search\">\r\n                            { redirectToSearch && <Redirect to='/search' />}\r\n                            <ErrorBoundary>\r\n                                <div className={`searchbar-wrapper body-padding`}>\r\n                                    <div className=\"row\">\r\n                                        <p className=\"text-small col-xs-12 col-md-offset-5 col-md-5\">Lees over een specifiek onderwerp</p>\r\n                                        <div className=\"col-xs-12 col-md-offset-5 col-md-5\">\r\n                                            <div className=\"searchbar\">\r\n                                                <span className=\"material-icons material-icons-m\">\r\n                                                    search\r\n                                    </span>\r\n                                                <input\r\n                                                    value={searchTerm}\r\n                                                    onChange={e => setSearchTerm(e.target.value)}\r\n                                                    onClick={redirectToSearchPage}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"searchbar-line\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {results.length > 0 &&\r\n                                    <div className=\"search-result-wrapper body-padding\">\r\n                                        <div className=\"row\">\r\n                                            <p className=\"col-md-offset-5 col-md-5 text-small\">er werden {results.length} artikels gevonden</p>\r\n                                        </div>\r\n                                        {results.map(r => (\r\n                                            <SearchArticle key={r?.id?.raw}\r\n                                                article={r}\r\n                                            />\r\n                                        ))}\r\n                                    </div>\r\n                                }\r\n                                {autocompletedResults.map(r => (\r\n                                    <div key={r}>{r}</div>\r\n                                ))}\r\n                            </ErrorBoundary>\r\n                        </div>\r\n                    );\r\n                }}\r\n            </WithSearch>\r\n        </SearchProvider>\r\n    );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Image from './image';\r\nconst _ = require('lodash');\r\n\r\nexport default function PreviewRelatedArticles(props) {\r\n    const searchQueries = props.article.labels;\r\n    const [fetchRelated, setFetchRelated] = useState(true);\r\n    const [related, setRelated] = useState([]);\r\n    const [numberOfResults, setNumberOfResults] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (fetchRelated) {\r\n            fetch(`${process.env.REACT_APP_ELASTIC_URL}/api/as/v1/engines/unify/search`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${process.env.REACT_APP_ELASTIC_SEARCH_KEY}`\r\n                },\r\n                body: JSON.stringify({\r\n                    query: searchQueries.raw.join(' ').slice(0, 127),\r\n                    search_fields: {\r\n                        title: {},\r\n                        description: {},\r\n                        labels: {}\r\n                    },\r\n                    page: {\r\n                        size: 30\r\n                    }\r\n                })\r\n            }).then(res => res.json())\r\n                .then(data => {\r\n                    if (!_.isNil(data.results)) {\r\n                        const results = data.results.filter(result => result.id.raw !== props.article.id.raw);\r\n                        const relevant = results.filter(result => result._meta.score >= 2);\r\n                        setRelated(relevant.slice(0, 4));\r\n                        setNumberOfResults(relevant.length);\r\n                    }\r\n                    setFetchRelated(false);\r\n                }\r\n                )\r\n        }\r\n\r\n    })\r\n\r\n    const relatedArticles =\r\n        related.map(relatedArticle => {\r\n            return <div key={`related${relatedArticle.id.raw}`} className='desktop-related-article'>\r\n                <Image url={relatedArticle.source_logo.raw} alt={relatedArticle.source_name.raw}></Image>\r\n                <a href={relatedArticle.url.raw} target=\"_blank\" rel=\"noreferrer\"><h4 className=\"side-title\">{relatedArticle.title.raw} <span className=\"material-icons material-icons-s\">open_in_new</span></h4></a>\r\n            </div>\r\n        })\r\n\r\n    return (\r\n        <div className=\"desktop-related\">\r\n            {relatedArticles}\r\n            { numberOfResults - relatedArticles.length === 1 &&\r\n                <Link to={`/related/${searchQueries.raw.join('--').slice(0, 127).replace(/%/g, '')}`}>\r\n                    <button className=\"button button-white\">{numberOfResults - relatedArticles.length} ander artikel over dit</button>\r\n                </Link>\r\n            }\r\n            { numberOfResults - relatedArticles.length > 1 &&\r\n                <Link to={`/related/${searchQueries.raw.join('--').slice(0, 127).replace(/%/g, '')}`}>\r\n                    <button className=\"button button-white\">{numberOfResults - relatedArticles.length} andere artikels over dit</button>\r\n                </Link>\r\n            }\r\n            { (numberOfResults - relatedArticles.length === 0 && numberOfResults !== 0) &&\r\n                <Link to={`/related/${searchQueries.raw.join('--').slice(0, 127).replace(/%/g, '')}`}>\r\n                    <button className=\"button button-white\">{numberOfResults - relatedArticles.length} andere artikels over dit</button>\r\n                </Link >\r\n            }\r\n            { numberOfResults === 0 &&\r\n                <p>Sorry, we vonden geen gerelateerde artikels</p>\r\n            }\r\n        </div >\r\n    )\r\n}\r\n","import { useState } from 'react';\r\nimport Bookmark from '../bookmark';\r\nimport Date from './date';\r\nimport Image from './image';\r\nimport PreviewRelatedArticles from './preview-related-articles';\r\nimport SourceInfo from './source-info';\r\n\r\nexport default function Article(props) {\r\n    console.log(props.article);\r\n    return (\r\n        <div className=\"row\" >\r\n            <div className=\"article col-md-offset-3 col-md-5\">\r\n                <div className=\"article-image-wrapper\">\r\n                    <a href={props.article.url.raw} target=\"_blank\" rel='noreferrer'>\r\n                        <Image url={props.article.image.raw} />\r\n                    </a>\r\n                    <Bookmark articleId={props.article.id.raw}></Bookmark>\r\n                    <SourceInfo\r\n                        name={props.article.source_name.raw}\r\n                        logo={props.article.source_logo.raw}\r\n                        website={props.article.source_website.raw}\r\n                        description={props.article.source_description.raw}\r\n                        biased={props.article?.biased?.raw}\r\n                    ></SourceInfo>\r\n                </div>\r\n                <a href={props.article.url.raw} target=\"_blank\" rel='noreferrer'>\r\n                    <h3 className=\"title\">{props.article.title.raw}\r\n                        <span className=\"material-icons material-icons-s\">\r\n                            open_in_new\r\n                    </span>\r\n                    </h3>\r\n\r\n                </a>\r\n                <Date date={props.article.date.raw}></Date>\r\n                <p className=\"text\">{props.article.description.raw}</p>\r\n            </div>\r\n            <div className=\"col-xs-12 col-md-4 preview-related-articles-wrapper\">\r\n                <PreviewRelatedArticles article={props.article}></PreviewRelatedArticles>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default function Loading() {\r\n    return (\r\n        <div className=\"loadingWrapper\">\r\n            <div className=\"loading\"></div>\r\n        </div>\r\n    )\r\n}","import { useHistory, Link } from \"react-router-dom\";\r\nconst _ = require('lodash');\r\nexport default function Title(props) {\r\n    let history = useHistory();\r\n\r\n    return (\r\n        <div className=\"title row\">\r\n            {props.icon !== 'arrow_back' &&\r\n                <span className={`title-tab ${props.color} col-md-offset-2 col-md-1`}>\r\n                    <span className={`icon-${props.icon} material-icons material-icons-xl`}>{props.icon}</span>\r\n                </span>}\r\n            {props.icon === 'arrow_back' &&\r\n                <span onClick={history.goBack} className={`title-tab ${props.color} col-md-offset-2 col-md-1`}>\r\n                    <span className={`icon-${props.icon} material-icons material-icons-xl`}>{props.icon}</span>\r\n                </span>}\r\n            <h1 className=\"page-title col-xs-11 col-md-8\">{props.title.toUpperCase()}</h1>\r\n            {!_.isNil(props.feedId) &&\r\n                <Link to={`/create-feed/confirm/${props.feedId}`}\r\n                    className=\"settings-icon col-xs-1\">\r\n                    <span className=\"material-icons\"\r\n                    >\r\n                        settings\r\n            </span>\r\n                </Link>\r\n            }\r\n        </div >\r\n    )\r\n}","import { atom } from 'recoil';\r\n\r\nexport const pageNumberAtom = atom({\r\n    key: 'pageNumber',\r\n    default: 1,\r\n});","import Article from '../articles/article';\r\nimport Loading from '../loading';\r\nimport Title from '../title';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport { pageNumberAtom } from './store';\r\n\r\nexport default function Feed() {\r\n    const feedTitle = \"Algemeen nieuws\";\r\n    const dayAgo = Date.now() - (24 * 3600000);\r\n\r\n    const [feedLoading, setFeedLoading] = useState(true);\r\n    const [articles, setArticles] = useState([]);\r\n    const [previousPageNumber, setPreviousPageNumber] = useState(0);\r\n    const [pageNumber, setPageNumber] = useRecoilState(pageNumberAtom);\r\n\r\n\r\n    useEffect(() => {\r\n        if (feedLoading === true && previousPageNumber < pageNumber) {\r\n            setFeedLoading(false);\r\n            fetch(`${process.env.REACT_APP_ELASTIC_URL}/api/as/v1/engines/unify/search`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${process.env.REACT_APP_ELASTIC_SEARCH_KEY}`\r\n                },\r\n                body: JSON.stringify({\r\n                    query: '',\r\n                    filters: {\r\n                        all: [\r\n                            {\r\n                                date: {\r\n                                    from: new Date(dayAgo)\r\n                                }\r\n                            },\r\n                            { source_regions: ['belgium', 'flanders', 'wallonia'] },\r\n                            { source_categories: 'general' }\r\n                        ],\r\n                    },\r\n                    page: {\r\n                        current: pageNumber\r\n                    }\r\n                })\r\n            }).then(res => res.json())\r\n                .then(data => {\r\n                    setArticles(articles.concat(data.results.map(article =>\r\n                        < Article key={article?.id?.raw} article={article}></Article>\r\n                    )))\r\n                    console.log(articles);\r\n                })\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"feed body-padding\">\r\n            <Title title={feedTitle} icon=\"article\" color=\"blue\"></Title>\r\n            {feedLoading &&\r\n                <Loading></Loading>\r\n            }\r\n            {articles}\r\n            <div className=\"row\">\r\n                <div className=\"col-xs-12 col-md-9 col-md-offset-3\">\r\n                    <button className=\"more-articles-button button blue\" onClick={() => {\r\n                        setPreviousPageNumber(pageNumber);\r\n                        setPageNumber(pageNumber + 1)\r\n                        setFeedLoading(true);\r\n                    }}>10 volgende Artikels</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Date from '../articles/date';\r\nimport Image from '../articles/image';\r\nimport SourceInfo from '../articles/source-info';\r\nimport Bookmark from '../bookmark';\r\nconst _ = require('lodash');\r\n\r\nexport default function SchijnwerperArticle(props) {\r\n    const searchQueries = props.article.labels;\r\n    const [fetchRelated, setFetchRelated] = useState(true);\r\n    const [numberOfResults, setNumberOfResults] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (fetchRelated) {\r\n            fetch(`${process.env.REACT_APP_ELASTIC_URL}/api/as/v1/engines/unify/search`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${process.env.REACT_APP_ELASTIC_SEARCH_KEY}`\r\n                },\r\n                body: JSON.stringify({\r\n                    query: searchQueries.join(' ').slice(0, 127),\r\n                    search_fields: {\r\n                        title: {},\r\n                        description: {},\r\n                        labels: {}\r\n                    },\r\n                    page: {\r\n                        size: 30\r\n                    }\r\n                })\r\n            }).then(res => res.json())\r\n                .then(data => {\r\n                    if (!_.isNil(data.results)) {\r\n                        const results = data.results.filter(result => result.id !== props.article.id);\r\n                        const relevant = results.filter(result => result._meta.score >= 2);\r\n                        setNumberOfResults(relevant.length);\r\n                    }\r\n                    setFetchRelated(false);\r\n                }\r\n                )\r\n        }\r\n\r\n    })\r\n\r\n    return (\r\n        <div className={`schijnwerper-article ${props.side} row`}>\r\n            <div className={`${props.side !== 'reverse' ? 'col-md-offset-3' : ''} col-md-4`}>\r\n                <div className=\"schijnwerper-article-image-wrapper\">\r\n                    <a href={props.article.url} target=\"_blank\" rel='noreferrer'>\r\n                        <Image url={props.article.image} />\r\n                    </a>\r\n                    <Bookmark articleId={props.article.id}></Bookmark>\r\n                    <SourceInfo\r\n                        name={props.article.source_name}\r\n                        logo={props.article.source_logo}\r\n                        website={props.article.source_website}\r\n                        description={props.article.source_description}\r\n                    ></SourceInfo>\r\n                </div>\r\n            </div>\r\n            <div className={`schijnwerper-article-text-wrapper ${props.side === 'reverse' ? 'col-md-offset-3' : ''} col-md-5`}>\r\n                <a href={props.article.url} target=\"_blank\" rel='noreferrer'>\r\n                    <h3 className=\"title\">{props.article.title}\r\n                        <span className=\"material-icons material-icons-s\">\r\n                            open_in_new\r\n                    </span>\r\n                    </h3>\r\n                    <span className=\"schijnwerper-title-line\"></span>\r\n                </a>\r\n                <Date date={props.article.date}></Date>\r\n                <p className=\"text\">{props.article.description}</p>\r\n\r\n                {numberOfResults === 1 &&\r\n                    <Link to={`/related/${searchQueries.join('--').slice(0, 127).replace(/%/g, '')}`}>\r\n                        <button className=\"button button-white\">{numberOfResults} ander artikel over dit</button>\r\n                    </Link>\r\n                }\r\n\r\n                {numberOfResults > 1 &&\r\n                    <Link to={`/related/${searchQueries.join('--').slice(0, 127).replace(/%/g, '')}`}>\r\n                        <button className=\"button button-white\">{numberOfResults} andere artikels over dit</button>\r\n                    </Link>\r\n                }\r\n                {numberOfResults === 0 &&\r\n                    <p>Sorry, we vonden geen gerelateerde artikels</p>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import Title from '../title';\r\nimport { useState, useEffect } from 'react';\r\nimport SchijnwerperArticle from './schijnwerper-article';\r\nimport Loading from '../loading';\r\n\r\nexport default function Schijnwerper() {\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [articles, setArticles] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (articles.length === 0) {\r\n            fetch(`${process.env.REACT_APP_UNIFY_BACK}/schijnwerper-articles`).then(res => res.json())\r\n                .then(data => {\r\n                    setArticles(data.map((article, i) => {\r\n                        if (i % 2) {\r\n                            return < SchijnwerperArticle key={`schijn-${article?.id}`} article={article} side='reverse' ></SchijnwerperArticle>\r\n                        }\r\n                        return < SchijnwerperArticle key={`schijn-${article?.id}`} article={article} ></SchijnwerperArticle>\r\n                    }\r\n                    ))\r\n                    setLoading(false);\r\n                })\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"schijnwerper body-padding\">\r\n            <Title title=\"In de schijnwerper\" icon=\"highlight\" color=\"yellow\"></Title>\r\n            <div className=\"row\">\r\n                <p className=\"text-intro col-md-offset-3 col-md-6\">Dagelijks <span className=\"text-emphasis\">manueel geselecteerd</span> door een moderator zodat je omvangrijke nieuws items niet zou missen en je horizon kan verbreden. </p>\r\n            </div>\r\n            {loading &&\r\n                <Loading></Loading>\r\n            }\r\n            {articles}\r\n        </div>\r\n    )\r\n}\r\n","import { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LoginBtn = () => {\r\n    const { loginWithRedirect } = useAuth0();\r\n\r\n    return <button onClick={() => loginWithRedirect()}>\r\n        <span className=\"material-icons\">person</span>\r\n        Log In\r\n        </button>;\r\n};\r\n\r\nexport default LoginBtn;","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LogoutBtn = () => {\r\n    const { logout } = useAuth0();\r\n\r\n    return (\r\n        <button onClick={() => logout({ returnTo: window.location.origin })}>\r\n            Log Out\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default LogoutBtn;","import LoginBtn from \"./login-btn\";\r\nimport LogoutBtn from \"./logout-btn\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Login = () => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [userChecked, setUserChecked] = useState(false);\r\n    const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isAuthenticated && !userChecked) {\r\n            checkUser()\r\n        }\r\n    })\r\n\r\n    async function checkUser() {\r\n        const accessToken = await getAccessTokenSilently();\r\n        fetch(`${process.env.REACT_APP_UNIFY_BACK}/check-new-user`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${accessToken}`,\r\n            },\r\n            body: JSON.stringify(user),\r\n        }).then(() => setUserChecked(true));\r\n    }\r\n\r\n    if (isLoading) {\r\n        return <div></div>\r\n    }\r\n    return <div className=\"login\" onClick={() => setMenuOpen(!menuOpen)}>\r\n        {isAuthenticated &&\r\n            <>\r\n                <div className=\"login-name\">\r\n                    <img src={user?.picture} alt=\"profile\"></img>\r\n                    <p>{user?.given_name || user?.nickname}</p>\r\n                </div>\r\n                <div className={`login-menu ${menuOpen ? '' : 'hidden'}`}>\r\n                    <LogoutBtn></LogoutBtn>\r\n                </div>\r\n            </>\r\n        }\r\n        {!isAuthenticated &&\r\n            <LoginBtn></LoginBtn>\r\n        }\r\n\r\n    </div>\r\n};\r\n\r\n\r\nexport default Login;","import { atom } from 'recoil';\r\n\r\nexport const navBackBtnAtom = atom({\r\n    key: 'navBackBtn',\r\n    default: false,\r\n});\r\n\r\nexport const userFeedsAtom = atom({\r\n    key: 'userFeeds',\r\n    default: null,\r\n});","import Search from \"../../components/search/search\";\r\nimport Feed from \"../../components/feed/feed\";\r\nimport Schijnwerper from \"../../components/schijnwerper/schijnwerper\";\r\nimport Login from \"../../components/login/login\";\r\nimport { useEffect } from 'react';\r\nimport { navBackBtnAtom } from '../../components/navigation/store';\r\nimport { useSetRecoilState } from 'recoil';\r\n\r\nfunction HomePage() {\r\n    const setNavBackBtn = useSetRecoilState(navBackBtnAtom);\r\n    useEffect(() => {\r\n        setNavBackBtn(false);\r\n    });\r\n\r\n    return (\r\n        <div className=\"home-page\">\r\n            <Search></Search>\r\n            <Login></Login>\r\n            <Schijnwerper></Schijnwerper>\r\n            <Feed></Feed>\r\n        </div>);\r\n}\r\n\r\nexport default HomePage;","export default function Footer() {\r\n    return (\r\n        <footer className=\"body-padding\">\r\n            <div className=\"row\">\r\n                <p className=\"col-md-offset-3 col-md-8\">Deze website is deel van het Final Work van Axelle Vanden Eynde, aan de Erasmus Hogeschool brussel</p>\r\n            </div>\r\n        </footer>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/logo.6e502709.svg\";","import logo from '../../assets/logo.svg';\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nexport default function DesktopNavigation(props) {\r\n\r\n    return (\r\n        <div className=\"desktop-nav\">\r\n            <Link to=\"/\"><img src={logo} alt=\"unify-logo\" /></Link>\r\n            <nav>\r\n                <div className='nav-main-wrapper'>\r\n                    <div className='nav-section-wrapper'>\r\n                        <NavLink className='nav-link'\r\n                            to=\"/search\"\r\n                            activeStyle={{\r\n                                fontWeight: 700,\r\n                            }}\r\n                        >\r\n                            <span className=\"material-icons material-icons-m\">\r\n                                search\r\n                    </span> zoeken\r\n                </NavLink>\r\n                        <NavLink className={`nav-link ${!props.isAuthenticated ? 'grey' : ''}`}\r\n                            to=\"/bookmarks\"\r\n                            activeStyle={{\r\n                                fontWeight: 700,\r\n                            }}\r\n                        >\r\n                            <span className=\"material-icons material-icons-m\">\r\n                                bookmark\r\n                    </span> Opgeslagen artikels\r\n                </NavLink>\r\n                    </div>\r\n                    <div className='nav-section-wrapper'>\r\n                        <h6 className='nav-section-title'>Feeds</h6>\r\n                        <NavLink className='nav-link'\r\n                            to=\"/home\"\r\n                            activeStyle={{\r\n                                fontWeight: 700,\r\n                            }}\r\n                        >\r\n                            <span className=\"material-icons material-icons-m\">\r\n                                article\r\n                    </span>  Algemeen nieuws\r\n                        </NavLink>\r\n\r\n                        {\r\n                            props.userFeeds?.map((feed, index) =>\r\n                                <NavLink className='nav-link'\r\n                                    to={`/user-feed/${feed.id}`}\r\n                                    key={`feedLink${index}`}\r\n                                    activeStyle={{\r\n                                        fontWeight: 700,\r\n                                    }}\r\n                                >\r\n                                    <span className=\"material-icons material-icons-m\">\r\n                                        article\r\n                    </span>  {feed.name.feedName}\r\n                                </NavLink>\r\n                            )\r\n                        }\r\n\r\n                        <NavLink className={`nav-link ${!props.isAuthenticated ? 'grey' : ''}`}\r\n                            to=\"/create-feed\"\r\n                            activeStyle={{\r\n                                fontWeight: 700,\r\n                            }}\r\n                        >\r\n                            <span className=\"material-icons material-icons-m\">\r\n                                add\r\n                            </span> nieuwe feed\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    )\r\n\r\n}","import logo from '../../assets/logo.svg';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useRecoilValue } from 'recoil';\r\nimport { navBackBtnAtom } from './store';\r\nimport Login from '../login/login';\r\n\r\n\r\nexport default function MobileNavigation(props) {\r\n    const [isOpen, setiIsOpen] = useState(false);\r\n    const navBackBtn = useRecoilValue(navBackBtnAtom);\r\n\r\n    let history = useHistory();\r\n\r\n    function openMenu() {\r\n        setiIsOpen(true);\r\n    }\r\n    function closeMenu() {\r\n        setiIsOpen(false);\r\n    }\r\n    return (\r\n        <div className=\"mobile-nav\">\r\n            <div className={`${!isOpen ? 'header' : 'headerHidden'} body-padding`}>\r\n                {navBackBtn &&\r\n                    <span onClick={history.goBack} className=\"material-icons material-icons-xl\">\r\n                        arrow_back\r\n                </span>\r\n                }\r\n                <Link to=\"/\"><img src={logo} alt=\"unify-logo\" /></Link>\r\n                <span onClick={openMenu} className=\"material-icons material-icons-xl\">\r\n                    menu\r\n                </span>\r\n            </div>\r\n            <div className={isOpen ? 'mobile-nav-open' : 'navClosed'}>\r\n                <div className=\"open-nav-header body-padding\">\r\n                    <Link to=\"/\"><img src={logo} alt=\"unify-logo\" /></Link>\r\n                    <span onClick={closeMenu} className=\"material-icons material-icons-xl\">\r\n                        close\r\n                </span>\r\n                </div>\r\n                <nav>\r\n                    <div className='nav-main-wrapper'>\r\n                        <div className='nav-section-wrapper'>\r\n                            <NavLink onClick={closeMenu} className='nav-link'\r\n                                to=\"/search\"\r\n                                activeStyle={{\r\n                                    fontWeight: 700,\r\n                                }}\r\n                            >\r\n                                <span className=\"material-icons material-icons-m\">\r\n                                    search\r\n                    </span> zoeken\r\n                </NavLink>\r\n                            <NavLink onClick={closeMenu} className='nav-link'\r\n                                to=\"/bookmarks\"\r\n                                activeStyle={{\r\n                                    fontWeight: 700,\r\n                                }}\r\n                            >\r\n                                <span className=\"material-icons material-icons-m\">\r\n                                    bookmark\r\n                    </span> Opgeslagen artikels\r\n                </NavLink>\r\n                        </div>\r\n                        <div className=\"nav-section-wrapper\">\r\n                            <h6 className='nav-section-title'>Feeds</h6>\r\n                            <NavLink onClick={closeMenu} className='nav-link'\r\n                                to=\"/home\"\r\n                                activeStyle={{\r\n                                    fontWeight: 700,\r\n                                }}\r\n                            >\r\n                                <span className=\"material-icons material-icons-m\">\r\n                                    article\r\n                    </span>  Algemeen nieuws\r\n                </NavLink>\r\n                            {\r\n                                props.userFeeds?.map((feed, index) =>\r\n                                    <NavLink className='nav-link'\r\n                                        onClick={closeMenu}\r\n                                        to={`/user-feed/${feed.id}`}\r\n                                        key={`feedLink${index}`}\r\n                                        activeStyle={{\r\n                                            fontWeight: 700,\r\n                                        }}\r\n                                    >\r\n                                        <span className=\"material-icons material-icons-m\">\r\n                                            article\r\n                    </span>  {feed.name.feedName}\r\n                                    </NavLink>\r\n                                )\r\n                            }\r\n                            <NavLink onClick={closeMenu}\r\n                                className='nav-link'\r\n                                to=\"/create-feed\"\r\n                                activeStyle={{\r\n                                    fontWeight: 700,\r\n                                }}\r\n                            >\r\n                                <span className=\"material-icons material-icons-m\">\r\n                                    add\r\n                    </span>\r\n                    nieuwe feed\r\n                </NavLink>\r\n                        </div>\r\n                        <div className=\"nav-section-wrapper\">\r\n                            <h6 className=\"nav-section-title\">Account</h6>\r\n                            <Login></Login>\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import DesktopNavigation from './desktop-navigation';\r\nimport MobileNavigation from './mobile-navigation';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport { userFeedsAtom } from './store';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\nconst _ = require('lodash');\r\n\r\nexport default function Navigation() {\r\n    const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\r\n\r\n    const [fetchedUserFeed, setFetchedUserFeed] = useState(false);\r\n    const [userFeeds, setUserFeeds] = useRecoilState(userFeedsAtom);\r\n\r\n    useEffect(() => {\r\n        if (isAuthenticated && !fetchedUserFeed) {\r\n            getFeeds();\r\n        }\r\n    })\r\n\r\n    async function getFeeds() {\r\n        const accessToken = await getAccessTokenSilently();\r\n        fetch(`${process.env.REACT_APP_UNIFY_BACK}/get-user-feeds`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${accessToken}`,\r\n            },\r\n            body: JSON.stringify(user)\r\n        }).then(res => res.json())\r\n            .then(feeds => {\r\n                setFetchedUserFeed(true);\r\n                setUserFeeds(feeds)\r\n            });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <DesktopNavigation userFeeds={userFeeds} isAuthenticated={isAuthenticated}></DesktopNavigation>\r\n            <MobileNavigation userFeeds={userFeeds}></MobileNavigation>\r\n        </>\r\n    )\r\n}","import SourceInfo from './source-info';\r\nimport Bookmark from '../bookmark';\r\nimport Date from './date';\r\nimport Image from './image';\r\n\r\nexport default function RelatedArticle(props) {\r\n\r\n    return (\r\n        <div className=\"col-md-3\">\r\n            <div className=\"article\">\r\n                <div className=\"article-image-wrapper\">\r\n                    <a href={props.article.url.raw} target=\"_blank\" rel='noreferrer'>\r\n                        <Image url={props.article.image.raw} />\r\n                    </a>\r\n                    <Bookmark articleId={props.article.id.raw} />\r\n                    <SourceInfo\r\n                        name={props.article.source_name.raw}\r\n                        logo={props.article.source_logo.raw}\r\n                        website={props.article.source_website.raw}\r\n                        description={props.article.source_description.raw}\r\n                    ></SourceInfo>\r\n                </div>\r\n                <a href={props.article.url.raw} target=\"_blank\" rel='noreferrer'>\r\n                    <h3 className=\"title\">{props.article.title.raw}\r\n                        <span className=\"material-icons material-icons-s\">\r\n                            open_in_new\r\n                    </span>\r\n                    </h3>\r\n                </a>\r\n                <Date date={props.article.date.raw}></Date>\r\n                <p className=\"text\">{props.article.description.raw}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useState, useEffect } from 'react';\r\nimport Search from '../components/search/search';\r\nimport RelatedArticle from '../components/articles/related-article';\r\nimport Title from '../components/title';\r\nconst _ = require('lodash');\r\n\r\nexport default function RelatedPage(props) {\r\n    const searchQuery = props.match.params.searchQuery.replaceAll('--', ' ')\r\n\r\n    const [fetchRelated, setFetchRelated] = useState(true);\r\n    const [related, setRelated] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (fetchRelated) {\r\n            fetch(`${process.env.REACT_APP_ELASTIC_URL}/api/as/v1/engines/unify/search`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${process.env.REACT_APP_ELASTIC_SEARCH_KEY}`\r\n                },\r\n                body: JSON.stringify({\r\n                    query: searchQuery,\r\n                    search_fields: {\r\n                        title: {},\r\n                        description: {},\r\n                        labels: {}\r\n                    },\r\n                    page: {\r\n                        size: 30\r\n                    }\r\n                })\r\n            }).then(res => res.json())\r\n                .then(data => {\r\n                    if (!_.isNil(data.results)) {\r\n                        const relevant = data.results.filter(result => result._meta.score >= 2);\r\n                        setRelated(relevant.map((article, i) => {\r\n                            if (i % 3 === 0) {\r\n                                return <>\r\n                                    <div className=\"col-md-3\"></div>\r\n                                    <RelatedArticle article={article} key={`related${i}`} />\r\n                                </>\r\n                            }\r\n                            return <RelatedArticle article={article} key={`related${i}`} />\r\n                        }));\r\n                    }\r\n                    setFetchRelated(false);\r\n                }\r\n                )\r\n        }\r\n\r\n    })\r\n    console.log(related);\r\n\r\n    return (<div className=\"related-page\">\r\n        < Search></Search >\r\n        < div className=\"body-padding\">\r\n            <Title title=\"gerelateerde artikels\" icon=\"arrow_back\"></Title>\r\n            <div className=\"row\">\r\n                {related}\r\n            </div>\r\n        </div >\r\n    </div >\r\n    );\r\n\r\n\r\n}","export default function ProgressBar(props) {\r\n    return (\r\n        <div className=\"progress-bar\">\r\n            <div className={`progress-bar-1 ${props.progress > 0 ? 'progress-bar-1-full' : ''}`}></div>\r\n            <div className={`progress-bar-2 ${props.progress > 1 ? 'progress-bar-2-full' : ''}`}></div>\r\n            <div className={`progress-bar-3 ${props.progress > 2 ? 'progress-bar-3-full' : ''}`}></div>\r\n            <div className={`progress-bar-4 ${props.progress > 3 ? 'progress-bar-4-full' : ''}`}></div>\r\n        </div>\r\n    )\r\n}","import { atom } from 'recoil';\r\n\r\nexport const progressAtom = atom({\r\n    key: 'progress',\r\n    default: 0,\r\n});\r\n\r\n//location \r\n\r\nexport const locationsAtom = atom({\r\n    key: 'allLocations',\r\n    default: [],\r\n});\r\n\r\nexport const selectedLocationsAtom = atom({\r\n    key: 'selectedLocations',\r\n    default: [],\r\n});\r\n\r\n//Categories\r\nexport const categoriesAtom = atom({\r\n    key: 'allCategories',\r\n    default: [],\r\n});\r\n\r\nexport const selectedCategoriesAtom = atom({\r\n    key: 'selectedCategories',\r\n    default: [],\r\n});\r\n\r\n//Sources\r\nexport const relevantSourcesAtom = atom({\r\n    key: 'relevantSources',\r\n    default: [],\r\n});\r\n\r\nexport const selectedSourcesAtom = atom({\r\n    key: 'selectedSources',\r\n    default: [],\r\n});\r\n\r\nexport const updateFeedIdAtom = atom({\r\n    key: 'updateFeedId',\r\n    default: null,\r\n});\r\n","import '../assets/background-logo.svg';\r\nimport { progressAtom } from './store';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useEffect } from 'react';\r\n\r\nexport default function GetStarted() {\r\n    const setProgress = useSetRecoilState(progressAtom);\r\n    useEffect(() => setProgress(0));\r\n    return (<div className=\"get-started col-xs-12 col-md-offset-4 col-md-6\" >\r\n        <p className=\"text-intro\">Laten we samen jouw\r\n        gepersonalisseerde feed\r\nmaken.</p>\r\n        <Link to='/create-feed/locations'>\r\n            <button className='side-title button yellow fixed-button'>Feed samenstellen</button>\r\n        </Link>\r\n    </div>)\r\n}","import { Formik, Field, Form } from 'formik';\r\nimport { useEffect, useState } from 'react';\r\nimport { useRecoilValue, useSetRecoilState, useRecoilState } from 'recoil';\r\nimport { locationsAtom, progressAtom, selectedLocationsAtom } from './store';\r\nimport { Link } from 'react-router-dom';\r\nconst _ = require('lodash');\r\n\r\n\r\nexport default function LocationQuestion() {\r\n    const allLocations = useRecoilValue(locationsAtom);\r\n    const setProgress = useSetRecoilState(progressAtom);\r\n    const [selectedLocations, setSelectedLocations] = useRecoilState(selectedLocationsAtom);\r\n\r\n    const [filteredLocations, setFilteredLocations] = useState([]);\r\n    const [noResults, setNoResults] = useState(false);\r\n    const [searched, setSearched] = useState(false);\r\n\r\n    const debouncedSubmit = _.debounce((typedLocation) => {\r\n        const result = allLocations.filter((location) => location?.locationName.toLowerCase().includes(typedLocation.toLowerCase()))\r\n        setFilteredLocations(result);\r\n        setSearched(true);\r\n    }, 400)\r\n\r\n    useEffect(() => {\r\n        setProgress(1)\r\n        if (filteredLocations.length === 0 && searched === true) {\r\n            setNoResults(true);\r\n        } else {\r\n            setNoResults(false);\r\n        }\r\n    })\r\n\r\n    return (<div className=\"LocationQuestion col-xs-12 col-md-offset-4 col-md-6\" >\r\n        <h1 className=\"page-title\">VAN WAAR WIL JE NIEUWS?</h1>\r\n        <div className=\"tab-wrapper\">\r\n            {\r\n                selectedLocations.map(location =>\r\n                    <span\r\n                        onClick={() => {\r\n                            setSelectedLocations((locations) => locations.filter(item => item !== location))\r\n                        }}\r\n                        className=\"tab pink\">\r\n                        {location.locationName}\r\n                    </span>)\r\n            }\r\n        </div>\r\n        <Formik\r\n            initialValues={{\r\n                typedLocation: ''\r\n            }}\r\n            onSubmit={async (values) => {\r\n                debouncedSubmit(values.typedLocation);\r\n            }}>\r\n            {({ submitForm }) => (\r\n                <Form>\r\n                    <div className=\"search-input-wrapper\">\r\n                        <span className=\"material-icons material-icons-m search-input-icon\">\r\n                            search\r\n                    </span>\r\n                        <Field className=\"input\"\r\n                            placeholder=\"Belgi, Aalst,...\"\r\n                            id=\"typedLocation\"\r\n                            name=\"typedLocation\"\r\n                            onKeyUp={submitForm}>\r\n\r\n                        </Field>\r\n                    </div>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n        <div className='button-list'>\r\n            {\r\n                noResults &&\r\n                <p>sorry, deze locatie werd niet gevonden.</p>\r\n            }\r\n            {filteredLocations.map((location, i) =>\r\n                <button\r\n                    className='button white'\r\n                    key={location._id}\r\n                    onClick={() => {\r\n                        setSelectedLocations((locations) => locations.concat([location]))\r\n                    }}>\r\n                    {location.locationName}\r\n                </button>\r\n            )}\r\n        </div>\r\n        <Link to='/create-feed/about'>\r\n            <button\r\n                className={`side-title button fixed-button ${selectedLocations.length === 0 ? 'white' : 'pink'}`}>\r\n                {selectedLocations.length === 0 ? 'Overslaan' : 'Verdergaan'}\r\n            </button>\r\n        </Link>\r\n    </div>\r\n    )\r\n}","import { useEffect } from 'react';\r\nimport { useRecoilValue, useSetRecoilState, useRecoilState } from 'recoil';\r\nimport { categoriesAtom, progressAtom, selectedCategoriesAtom } from './store';\r\nimport { Link } from 'react-router-dom';\r\nconst _ = require('lodash');\r\n\r\nexport default function AboutQuestion() {\r\n    const setProgress = useSetRecoilState(progressAtom);\r\n    const categories = useRecoilValue(categoriesAtom);\r\n    const [selectedCategories, setSelectedCategories] = useRecoilState(selectedCategoriesAtom);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        setProgress(2)\r\n    })\r\n\r\n    return (<div className=\"LocationQuestion col-xs-12 col-md-offset-4 col-md-6\" >\r\n        <h1 className=\"page-title\">OVER WAT WIL JE NIEUWS?</h1>\r\n        <div className='card-button-list'>\r\n            {categories.map((category, i) =>\r\n                <button\r\n                    className={`button ${selectedCategories.includes(category) ? \"blue\" : \"white\"}`}\r\n                    key={`cat${i}`}\r\n                    onClick={() => {\r\n                        if (selectedCategories.includes(category)) {\r\n                            setSelectedCategories((categories) => categories.filter(item => item !== category))\r\n                        } else {\r\n                            setSelectedCategories((categories) => categories.concat([category]))\r\n                        }\r\n                    }}\r\n                >\r\n                    <span className=\"material-icons\">\r\n                        {category.icon}\r\n                    </span>\r\n                    <span className=\"label\">{category.name}</span>\r\n                </button>\r\n            )}\r\n        </div>\r\n        <Link to='/create-feed/sources'>\r\n            <button\r\n                className={`side-title button fixed-button ${selectedCategories.length === 0 ? 'white' : 'blue'}`}>\r\n                {selectedCategories.length === 0 ? 'Overslaan' : 'Verdergaan'}\r\n            </button>\r\n        </Link>\r\n    </div>\r\n    )\r\n}","import { Formik, Field, Form } from 'formik';\r\nimport { useEffect, useState } from 'react';\r\nimport { useRecoilValue, useSetRecoilState, useRecoilState } from 'recoil';\r\nimport { relevantSourcesAtom, progressAtom, selectedSourcesAtom, selectedCategoriesAtom, selectedLocationsAtom } from './store';\r\nimport { Link } from 'react-router-dom';\r\nconst _ = require('lodash');\r\n\r\n\r\nexport default function SourcesQuestion() {\r\n    const setProgress = useSetRecoilState(progressAtom);\r\n    const [sources, setSources] = useRecoilState(relevantSourcesAtom);\r\n    const [selectedSources, setSelectedSources] = useRecoilState(selectedSourcesAtom);\r\n    const selectedCatgories = useRecoilValue(selectedCategoriesAtom);\r\n    const selectedLocations = useRecoilValue(selectedLocationsAtom);\r\n\r\n    const [filteredSources, setFilteredSources] = useState([]);\r\n    const [noResults, setNoResults] = useState(false);\r\n    const [searched, setSearched] = useState(false);\r\n    const [fetchedSources, setFetchedSources] = useState(false);\r\n\r\n    const debouncedSubmit = _.debounce((typedSource) => {\r\n        const result = sources.filter((source) => source.name.toLowerCase().includes(typedSource.toLowerCase()))\r\n        setFilteredSources(result);\r\n        setSearched(true);\r\n    }, 400)\r\n\r\n    useEffect(() => {\r\n        setProgress(3)\r\n        console.log(sources);\r\n        if (sources.length === 0 && !fetchedSources) {\r\n            fetch(`${process.env.REACT_APP_UNIFY_BACK}/news-sources`).then(res => res.json())\r\n                .then(data => {\r\n                    const relevant = data.filter(source => {\r\n                        let hasCategory = false;\r\n                        let hasLocation = false;\r\n                        for (let i = 0; i < selectedCatgories.length; i++) {\r\n                            if (source.categories.includes(selectedCatgories[i].name)) {\r\n                                hasCategory = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        for (let i = 0; i < selectedLocations.length; i++) {\r\n                            if (source.regions.includes(selectedLocations[i].loacationName)) {\r\n                                hasLocation = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasCategory && hasLocation) {\r\n                            return true;\r\n                        }\r\n                        if (hasCategory && selectedLocations.length === 0) {\r\n                            return true;\r\n                        }\r\n                        if (hasLocation && selectedCatgories.length === 0) {\r\n                            return true\r\n                        }\r\n                        // CHANGE THIS TO FALSE WHEN YOU HAVE MORE SOURCES!!!!!!\r\n                        return true;\r\n                    })\r\n                    setSources(relevant);\r\n                    setFilteredSources(relevant);\r\n                    setFetchedSources(true);\r\n                })\r\n        }\r\n        if (filteredSources.length === 0 && searched === true) {\r\n            setNoResults(true);\r\n        } else {\r\n            setNoResults(false);\r\n        }\r\n    })\r\n\r\n    return (<div className=\"LocationQuestion col-xs-12 col-md-offset-4 col-md-6\" >\r\n        <h1 className=\"page-title\">WELKE PUBLICATIES WIL JE VOLGEN?</h1>\r\n\r\n        <div className=\"tab-wrapper\">\r\n            {\r\n                selectedSources.map(source =>\r\n                    <span\r\n                        onClick={() => {\r\n                            setSelectedSources((sources) => sources.filter(item => item !== source))\r\n                        }}\r\n                        className=\"tab green\">\r\n                        {source.name}\r\n                    </span>)\r\n            }\r\n        </div>\r\n\r\n        <Formik\r\n            initialValues={{\r\n                typedSource: ''\r\n            }}\r\n            onSubmit={async (values) => {\r\n                debouncedSubmit(values.typedSource);\r\n            }}>\r\n            {({ submitForm }) => (\r\n                <Form>\r\n                    <div className=\"search-input-wrapper\">\r\n                        <span className=\"material-icons material-icons-m search-input-icon\">\r\n                            search\r\n                    </span>\r\n                        <Field className=\"input\"\r\n                            placeholder=\"De standaard, knack,...\"\r\n                            id=\"typedSource\"\r\n                            name=\"typedSource\"\r\n                            onKeyUp={submitForm}>\r\n\r\n                        </Field>\r\n                    </div>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n        <div className='sources-button-list'>\r\n            {\r\n                noResults &&\r\n                <p>sorry, deze bron werd niet gevonden.</p>\r\n            }\r\n            {filteredSources.map((source) =>\r\n                <button\r\n                    className='button white'\r\n                    key={source._id}\r\n                    onClick={() => {\r\n                        setSelectedSources((sources) => sources.concat([source]))\r\n                    }}>\r\n                    <div>\r\n                        <img src={source.logo}></img>\r\n                        <h3>{source.name}</h3>\r\n                    </div>\r\n                    <p>{source.description}</p>\r\n                </button>\r\n            )}\r\n        </div>\r\n        <Link to='/create-feed/confirm'>\r\n            <button\r\n                className={`side-title button fixed-button ${selectedSources.length === 0 ? 'white' : 'green'}`}>\r\n                {selectedSources.length === 0 ? 'Overslaan' : 'Verdergaan'}\r\n            </button>\r\n        </Link>\r\n    </div>\r\n    )\r\n}","import '../assets/background-logo.svg';\r\nimport { progressAtom, selectedLocationsAtom, selectedSourcesAtom, selectedCategoriesAtom, updateFeedIdAtom } from './store';\r\nimport { useSetRecoilState, useRecoilState, useRecoilValue } from 'recoil';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useEffect, useState } from 'react';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { userFeedsAtom } from '../../components/navigation/store';\r\nconst _ = require('lodash');\r\n\r\n\r\nexport default function Confirm(props) {\r\n    const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\r\n    const setProgress = useSetRecoilState(progressAtom);\r\n    const [selectedLocations, setSelectedLocations] = useRecoilState(selectedLocationsAtom);\r\n    const [selectedCategories, setSelectedCategories] = useRecoilState(selectedCategoriesAtom);\r\n    const [selectedSources, setSelectedSources] = useRecoilState(selectedSourcesAtom);\r\n    const [feedCreated, setFeedCreated] = useState(false);\r\n    const feeds = useRecoilValue(userFeedsAtom);\r\n    const [updateFeedId, setUpdateFeedId] = useRecoilState(updateFeedIdAtom);\r\n    const [feedName, setFeedName] = useState('mijn persoonlijke feed')\r\n\r\n    useEffect(() => {\r\n        setProgress(4)\r\n        if (!_.isNil(props.match.params.id) && updateFeedId !== props.match.params.id) {\r\n            const feedToUpdate = feeds?.find(feed => feed.id === props.match.params.id);\r\n            if (!_.isNil(feedToUpdate)) {\r\n                setSelectedLocations(feedToUpdate.regions || []);\r\n                setSelectedCategories(feedToUpdate.categories || []);\r\n                setSelectedSources(feedToUpdate.sources || []);\r\n                setFeedName(feedToUpdate.name.feedName);\r\n                setUpdateFeedId(props.match.params.id);\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    return (<div className=\"confirm col-xs-12 col-md-offset-4 col-md-6\" >\r\n\r\n        <h1 className=\"page-title\">GEEF JE FEED EEN NAAM</h1>\r\n\r\n        <Formik\r\n            initialValues={{\r\n                feedName: feedName\r\n            }}\r\n            onSubmit={async (feedName) => {\r\n                console.log(user);\r\n                const accessToken = await getAccessTokenSilently();\r\n                fetch(`${process.env.REACT_APP_UNIFY_BACK}/create-new-feed`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        Authorization: `Bearer ${accessToken}`,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        user: user,\r\n                        feed: {\r\n                            name: feedName,\r\n                            categories: selectedCategories,\r\n                            regions: selectedLocations,\r\n                            sources: selectedSources,\r\n                            id: updateFeedId\r\n                        }\r\n                    })\r\n                }).then((res) => res.json()\r\n                ).then(data => {\r\n                    setFeedCreated(true);\r\n                    console.log(data)\r\n                });\r\n            }}>\r\n            {() => (\r\n                <Form>\r\n                    <div className=\"input-wrapper\">\r\n                        <Field className=\"input\"\r\n                            id=\"feedName\"\r\n                            name=\"feedName\"\r\n                        >\r\n                        </Field>\r\n                    </div>\r\n                    <div className=\"confirm-item\">\r\n                        <div className=\"confirm-item-info-wrapper\">\r\n                            <h3 className=\"title\">Regio's</h3>\r\n                            <ul>\r\n                                {selectedLocations.map(item => <li>{item.locationName}</li>)}\r\n                            </ul>\r\n                        </div>\r\n                        <Link to=\"/create-feed/locations\">\r\n                            <button className=\"button white\"><span className=\"material-icons\">\r\n                                edit\r\n                            </span></button>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"confirm-item\">\r\n                        <div className=\"confirm-item-info-wrapper\">\r\n                            <h3 className=\"title\">Onderwerpen</h3>\r\n                            <ul>\r\n                                {selectedCategories.map(item => <li>{item.name}</li>)}\r\n                            </ul>\r\n                        </div>\r\n                        <Link to=\"/create-feed/about\">\r\n                            <button className=\"button white\"><span className=\"material-icons\">\r\n                                edit\r\n                            </span></button>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"confirm-item\">\r\n                        <div className=\"confirm-item-info-wrapper\">\r\n                            <h3 className=\"title\">Publicaties</h3>\r\n                            <ul>\r\n                                {selectedSources.map(item => <li>{item.name}</li>)}\r\n                            </ul>\r\n                        </div>\r\n                        <Link to=\"/create-feed/sources\">\r\n                            <button className=\"button white\"><span className=\"material-icons\">\r\n                                edit\r\n                            </span></button>\r\n                        </Link>\r\n                    </div>\r\n                    <button type=\"submit\" className='side-title button yellow fixed-button'>NAAR MIJN FEED</button>\r\n                    {\r\n                        feedCreated &&\r\n                        <Redirect to='/home'></Redirect>\r\n                    }\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>)\r\n}","import { useEffect } from 'react';\r\nimport {\r\n    Switch,\r\n    Route,\r\n    useRouteMatch,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport ProtectedRoute from '../../auth/Protected-route';\r\nimport ProgressBar from '../../components/progress-bar';\r\nimport GetStarted from './get-started';\r\nimport LocationQuestion from './location-question';\r\nimport AboutQuestion from './about-question';\r\nimport SourcesQuestion from './source-question';\r\nimport Confirm from './confirm';\r\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { locationsAtom, progressAtom, categoriesAtom } from './store';\r\nimport { navBackBtnAtom } from '../../components/navigation/store';\r\n\r\nexport default function CreateFeedPage() {\r\n    let match = useRouteMatch();\r\n    console.log(match);\r\n    const [allLocations, setAllLoactions] = useRecoilState(locationsAtom);\r\n    const [allCategories, setAllCategories] = useRecoilState(categoriesAtom);\r\n    const progress = useRecoilValue(progressAtom);\r\n    const setNavBackBtn = useSetRecoilState(navBackBtnAtom);\r\n\r\n    useEffect(() => {\r\n        setNavBackBtn(true);\r\n        if (allLocations.length === 0) {\r\n            fetch(`${process.env.REACT_APP_UNIFY_BACK}/news-locations`).then(res => res.json())\r\n                .then(data => {\r\n                    setAllLoactions(data)\r\n                })\r\n        }\r\n        if (allCategories.length === 0) {\r\n            fetch(`${process.env.REACT_APP_UNIFY_BACK}/news-categories`).then(res => res.json())\r\n                .then(data => {\r\n                    setAllCategories(data)\r\n                })\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className='create-feed-wrapper body-padding row'>\r\n            <Switch>\r\n                <ProtectedRoute path={`/create-feed/get-started`} component={GetStarted} />\r\n                <ProtectedRoute path={`${match.path}/locations`} component={LocationQuestion} />\r\n                <ProtectedRoute path={`${match.path}/about`} component={AboutQuestion} />\r\n                <ProtectedRoute path={`${match.path}/sources`} component={SourcesQuestion} />\r\n                <ProtectedRoute path={`${match.path}/confirm/:id`} component={Confirm} />\r\n                <ProtectedRoute path={`${match.path}/confirm`} component={Confirm} />\r\n                <Route path=\"/create-feed\">\r\n                    <Redirect to={`${match.path}/get-started`} />\r\n                </Route>\r\n            </Switch>\r\n            <ProgressBar progress={progress} ></ProgressBar>\r\n        </div>\r\n    )\r\n}","import { atom } from 'recoil';\r\n\r\nexport const pageNumberUserFeedAtom = atom({\r\n    key: 'pageNumberUserFeed',\r\n    default: 1,\r\n});","import { useState, useEffect, componentWillUnmount } from 'react';\r\nimport Search from '../../components/search/search';\r\nimport Title from '../../components/title';\r\nimport Article from '../../components/articles/article';\r\nimport { userFeedsAtom } from '../../components/navigation/store';\r\nimport { useRecoilValue, useRecoilState } from 'recoil';\r\nimport Loading from '../../components/loading';\r\nimport Login from '../../components/login/login';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { pageNumberUserFeedAtom } from './store';\r\n\r\nconst _ = require('lodash');\r\n\r\nexport default function UserFeedPage(props) {\r\n    const feeds = useRecoilValue(userFeedsAtom);\r\n    const [pageNumberUserFeed, setPageNumberUserFeed] = useRecoilState(pageNumberUserFeedAtom);\r\n\r\n    const [feedId, setFeedId] = useState(props.match.params.userFeedId);\r\n    const [articles, setArticles] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [previousHistory, setPreviousHistory] = useState('')\r\n    const [previousPageNumber, setPreviousPageNumber] = useState(0);\r\n    const [thisFeed, setThisFeed] = useState(null);\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setThisFeed(feeds?.find(feed => feed.id === feedId));\r\n\r\n        if (previousHistory !== history.location.pathname) {\r\n            console.log('hey');\r\n            setLoading(true);\r\n            setFeedId(props.match.params.userFeedId);\r\n            setArticles([]);\r\n            setPreviousPageNumber(0);\r\n            setPageNumberUserFeed(1);\r\n            setThisFeed(null);\r\n        }\r\n        console.log(thisFeed);\r\n\r\n        if (loading === true\r\n            && previousPageNumber < pageNumberUserFeed\r\n            && !_.isNil(thisFeed)\r\n        ) {\r\n            console.log('fetching');\r\n            fetch(`${process.env.REACT_APP_ELASTIC_URL}/api/as/v1/engines/unify/search`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${process.env.REACT_APP_ELASTIC_SEARCH_KEY}`\r\n                },\r\n                body: JSON.stringify({\r\n                    query: '',\r\n                    filters: {\r\n                        all: getFilters(thisFeed)\r\n                    },\r\n                    page: {\r\n                        current: pageNumberUserFeed\r\n                    }\r\n                })\r\n            }).then(res => res.json())\r\n                .then(data => {\r\n                    setArticles(articles.concat(data?.results?.map(article =>\r\n                        < Article key={article?.id?.raw} article={article}></Article>\r\n                    )));\r\n                    setLoading(false);\r\n                }\r\n                )\r\n            setPreviousPageNumber(pageNumberUserFeed);\r\n        }\r\n        setPreviousHistory(history.location.pathname);\r\n\r\n    })\r\n\r\n\r\n    return (<div className=\"user-feed-page\">\r\n        < Search></Search >\r\n        <Login></Login>\r\n        < div className=\"body-padding\" >\r\n            <Title\r\n                title={thisFeed?.name.feedName || ''}\r\n                icon=\"article\"\r\n                color=\"green\"\r\n                feedId={thisFeed?.id}\r\n            ></Title>\r\n            {articles}\r\n            {\r\n                loading &&\r\n                <Loading />\r\n            }\r\n            {\r\n                (!loading && articles.length === 0) &&\r\n                <div className=\"row\">\r\n                    <p className=\"col-xs-12 col-md-9 col-md-offset-3\">\r\n                        Er werden geen artikels gevonden, probeer het later opnieuw\r\n                    </p>\r\n                </div>\r\n            }\r\n            <div className=\"row\">\r\n                <div className=\"col-xs-12 col-md-9 col-md-offset-3\">\r\n                    <button className=\"more-articles-button button green\" onClick={() => {\r\n                        setPageNumberUserFeed(pageNumberUserFeed + 1);\r\n                        setLoading(true);\r\n                    }}>10 volgende Artikels</button>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    </div >\r\n    );\r\n\r\n\r\n}\r\n\r\nfunction getFilters(thisFeed) {\r\n    let filters = [];\r\n    let filterItem = [];\r\n    filterItem = thisFeed?.regions?.map(item => item.id.toLowerCase()) || [];\r\n    if (filterItem.length !== 0) {\r\n        if (filterItem.length === 1) {\r\n            filters.push({ source_regions: filterItem[0] })\r\n        } else {\r\n            filters.push({ source_regions: filterItem })\r\n        }\r\n    }\r\n\r\n    filterItem = thisFeed?.categories?.map(item => item.id.toLowerCase()) || [];\r\n    if (filterItem.length !== 0) {\r\n        if (filterItem.length === 1) {\r\n            filters.push({ source_categories: filterItem[0] })\r\n        } else {\r\n            filters.push({ source_categories: filterItem })\r\n        }\r\n    }\r\n\r\n\r\n    filterItem = thisFeed?.sources?.map(item => item.name) || [];\r\n    if (filterItem.length !== 0) {\r\n        if (filterItem.length === 1) {\r\n            filters.push({ source_name: filterItem[0] })\r\n        } else {\r\n            filters.push({ source_name: filterItem })\r\n        }\r\n    }\r\n    return filters;\r\n}","import Bookmark from '../bookmark';\r\nimport Date from './date';\r\nimport Image from './image';\r\nimport SourceInfo from './source-info';\r\n\r\nexport default function RelatedArticle(props) {\r\n\r\n    return (\r\n        <div className=\"col-md-3\">\r\n            <div className=\"article\">\r\n                <div className=\"article-image-wrapper\">\r\n                    <a href={props.article.url} target=\"_blank\" rel='noreferrer'>\r\n                        <Image url={props.article.image} />\r\n                    </a>\r\n                    <Bookmark articleId={props.article.id} remove={true} onClick={() => window.location.reload(true)}></Bookmark>\r\n                    <SourceInfo\r\n                        name={props.article.source_name}\r\n                        logo={props.article.source_logo}\r\n                        website={props.article.source_website}\r\n                        description={props.article.source_description}\r\n                    ></SourceInfo>\r\n                </div>\r\n                <a href={props.article.url} target=\"_blank\" rel='noreferrer'>\r\n                    <h3 className=\"title\">{props.article.title}\r\n                        <span className=\"material-icons material-icons-s\">\r\n                            open_in_new\r\n                    </span>\r\n                    </h3>\r\n                </a>\r\n                <Date date={props.article.date}></Date>\r\n                <p className=\"text\">{props.article.description}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useEffect, useState } from 'react';\r\nimport BookmarkArticle from '../../components/articles/bookmark-article';\r\nimport Title from '../../components/title';\r\nimport Loading from '../../components/loading';\r\nimport Search from '../../components/search/search';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\nexport default function BookmarksPage() {\r\n    const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\r\n    const [loading, setLoading] = useState(true);\r\n    const [articles, setArticles] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getArticles()\r\n    })\r\n\r\n    async function getArticles() {\r\n        const accessToken = await getAccessTokenSilently();\r\n        if (articles.length === 0 && loading === true) {\r\n            fetch(`${process.env.REACT_APP_UNIFY_BACK}/get-bookmarks`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        Authorization: `Bearer ${accessToken}`,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        user: user\r\n                    })\r\n                }).then(res => res.json())\r\n                .then(data => {\r\n                    setArticles(data.map((article, i) => {\r\n                        if (i % 3 === 0) {\r\n                            return <>\r\n                                <div className=\"col-md-3\"></div>\r\n                                < BookmarkArticle key={`book-${article?.id}`} article={article} ></BookmarkArticle>\r\n                            </>\r\n                        }\r\n                        return < BookmarkArticle key={`book-${article?.id}`} article={article} ></BookmarkArticle>\r\n                    }\r\n                    ))\r\n                    setLoading(false);\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"bookmarks-page\">\r\n            <Search></Search>\r\n            <div className=\"body-padding\">\r\n                <Title title=\"Opgeslagen artikels\" icon=\"bookmark\" color=\"pink\"></Title>\r\n                <div className=\"row\">\r\n                    {loading &&\r\n                        <Loading></Loading>\r\n                    }\r\n                    {articles}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport ProtectedRoute from './auth/Protected-route';\r\n\r\nimport { RecoilRoot } from 'recoil';\r\n\r\nimport HomePage from './pages/home/home.page';\r\nimport Footer from './components/footer';\r\nimport Navigation from \"./components/navigation/navigation\";\r\nimport Search from \"./components/search/search\";\r\nimport RelatedPage from './pages/related.page';\r\nimport CreateFeedPage from './pages/create-feed/create-feed.page';\r\nimport UserFeedPage from './pages/user-feed/user-feed.page';\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\nimport BookmarksPage from \"./pages/bookmarks/bookmarks.page\";\r\n\r\nfunction App() {\r\n  return (\r\n    <RecoilRoot>\r\n      <Router>\r\n        <Auth0Provider\r\n          domain=\"dev--gys6ql4.eu.auth0.com\"\r\n          clientId=\"KueLxjrfFOXb68rCrc6uUsk08Py3pTAP\"\r\n          redirectUri={window.location.origin + '/home'}\r\n          useRefreshTokens={true}\r\n          cacheLocation=\"localstorage\"\r\n          audience=\"https://dev--gys6ql4.eu.auth0.com/api/v2/\"\r\n          scope=\"read:current_user update:current_user_metadata\"\r\n        >\r\n          <Navigation></Navigation>\r\n          <Switch>\r\n            <Route path=\"/search\">\r\n              <Search />\r\n            </Route>\r\n            <Route path=\"/home\">\r\n              <HomePage />\r\n            </Route>\r\n            <Route path=\"/related/:searchQuery\" component={RelatedPage} />\r\n            <ProtectedRoute path=\"/create-feed\" component={CreateFeedPage} />\r\n            <Route path=\"/user-feed/:userFeedId\" component={UserFeedPage} />\r\n            <ProtectedRoute path=\"/bookmarks\" component={BookmarksPage} />\r\n            <Route path=\"/\">\r\n              <Redirect to='/home' />\r\n            </Route>\r\n          </Switch>\r\n          <Footer></Footer>\r\n        </Auth0Provider>\r\n      </Router>\r\n    </RecoilRoot>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style/index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}